<app-navbar (sidebarToggle)="toggleSidebar()"></app-navbar>

<div class="gallery-layout">
  <app-sidebar 
    [isOpen]="sidebarOpen" 
    (closeSidebarEvent)="closeSidebar()">
  </app-sidebar>

  <div class="gallery-content">
    <div class="gallery-container">
      <!-- Header -->
      <div class="gallery-header">
        <h1 class="gallery-title">Galeria de MÃ­dias</h1>
        <p class="gallery-subtitle">Gerencie seus vÃ­deos antes de criar uma campanha</p>
      </div>

      <!-- Controls -->
      <div class="gallery-controls">
        <div class="controls-left">
          <div class="category-dropdown">
            <select [(ngModel)]="selectedCategory" (change)="onCategoryChange(selectedCategory)">
              <option *ngFor="let category of categories" [value]="category">
                {{ category }}
              </option>
            </select>
            <i class="dropdown-icon">â–¼</i>
          </div>

          <button class="create-video-btn" (click)="createNewVideo()">
            <i class="plus-icon">+</i>
            Criar novo vÃ­deo
          </button>

          <button class="select-btn" (click)="selectAll()">
            Selecionar
          </button>
        </div>

        <!-- Info Banner -->
        <div class="info-banner" *ngIf="remainingVideos > 0">
          <i class="info-icon">â„¹</i>
          <span>VocÃª ainda pode adicionar {{ remainingVideos }} vÃ­deos neste plano.</span>
        </div>
      </div>

      <!-- Media Grid -->
      <div class="media-grid">
        <app-card-ad 
          *ngFor="let item of filteredItems" 
          [item]="item"
          [isSelected]="item.selected"
          (select)="selectItem($event)"
          (action)="onCardAction($event.action, $event.item)">
        </app-card-ad>
      </div>

      <!-- Footer Actions -->
      <div class="gallery-footer" *ngIf="hasSelectedItems">
        <button class="advance-btn" (click)="advance()">
          Criar campanha
        </button>
      </div>

      <!-- Exit Button -->
      <div class="exit-section">
        <button class="exit-btn">
          <i class="exit-icon">ðŸšª</i>
          Sair
        </button>
      </div>
    </div>
  </div>
</div> 

<!-- Confirmation Modal -->
<div class="modal-backdrop" *ngIf="showConfirmModal" (click)="showConfirmModal = false"></div>
<div class="modal-content" *ngIf="showConfirmModal">
  <div class="modal-header">
    <h3>Confirmar Dados da Campanha</h3>
  </div>
  <div class="modal-body">
    <p>Os dados da campanha estÃ£o corretos?</p>
  </div>
  <div class="modal-actions">
    <button class="btn-secondary" (click)="editCampaign()">NÃ£o, alterar dados</button>
    <button class="btn-primary" (click)="confirmCampaign()">Sim, estÃ£o corretos</button>
  </div>
  <button class="modal-close" (click)="showConfirmModal = false">Ã—</button>
  </div>